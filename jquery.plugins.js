/* Copyright (c) 2006 Brandon Aaron (http://brandonaaron.net)
 * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) 
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * $LastChangedDate: 2007-06-19 20:25:28 -0500 (Tue, 19 Jun 2007) $
 * $Rev: 2111 $
 *
 * Version 2.1
 */
(function($){$.fn.bgIframe=$.fn.bgiframe=function(s){if($.browser.msie&&parseInt($.browser.version)<=6){s=$.extend({top:'auto',left:'auto',width:'auto',height:'auto',opacity:true,src:'javascript:false;'},s||{});var prop=function(n){return n&&n.constructor==Number?n+'px':n;},html='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+s.src+'"'+'style="display:block;position:absolute;z-index:-1;'+(s.opacity!==false?'filter:Alpha(Opacity=\'0\');':'')+'top:'+(s.top=='auto'?'expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+\'px\')':prop(s.top))+';'+'left:'+(s.left=='auto'?'expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+\'px\')':prop(s.left))+';'+'width:'+(s.width=='auto'?'expression(this.parentNode.offsetWidth+\'px\')':prop(s.width))+';'+'height:'+(s.height=='auto'?'expression(this.parentNode.offsetHeight+\'px\')':prop(s.height))+';'+'"/>';return this.each(function(){if($('> iframe.bgiframe',this).length==0)this.insertBefore(document.createElement(html),this.firstChild);});}return this;};if(!$.browser.version)$.browser.version=navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)[1];})(jQuery);

(function(a){var b={onClick:function(){a(this).find(">a").each(function(){if(this.href){window.location=this.href}})},arrowSrc:"",subDelay:300,mainDelay:10};a.fn.clickMenu=function(f){var c=false;var p=((a.browser.msie)?4:2);var o=a.extend({},b,f);var d=function(x,w){if(x.timer&&!x.isVisible){clearTimeout(x.timer)}else{if(x.timer){return}}if(x.isVisible){x.timer=setTimeout(function(){a(j(g(x,"UL"),"LI")).unbind("mouseenter",h).unbind("mouseleave",q).unbind("click",o.onClick);a(x).hide();x.isVisible=false;x.timer=null},w)}};var l=function(x,w){if(x.timer){clearTimeout(x.timer)}if(!x.isVisible){x.timer=setTimeout(function(){if(!u(x.parentNode,"hover")){return}a(j(g(x,"UL"),"LI")).mouseenter(h).mouseleave(q).click(o.onClick);if(!u(x.parentNode,"main")){a(x).css("left",x.parentNode.offsetWidth-p)}x.isVisible=true;a(x).show();var y=a(g(x,"UL")).width();if(y<80){y=80}a(x).css("width",y);x.timer=null},w)}};var v=function(x){var w=(x.type=="mouseenter"?x.fromElement:x.toElement)||x.relatedTarget;while(w&&w!=this){try{w=w.parentNode}catch(x){w=this}}if(w==this){return false}return true};var r=function(z){var w=j(this.parentNode,"LI");var y=new RegExp("(^|\\s)hover(\\s|$)");for(var x=0;x<w.length;x++){if(y.test(w[x].className)){a(w[x]).removeClass("hover")}}a(this).addClass("hover");if(c){n(this,o.mainDelay)}};var h=function(w){if(!v(w)){return false}if(w.target!=this){if(!i(this,w.target)){return}}n(this,o.subDelay)};var n=function(w,x){var z=g(w,"DIV");var B=w.parentNode.firstChild;for(;B;B=B.nextSibling){if(B.nodeType==1&&B.nodeName.toUpperCase()=="LI"){var A=g(B,"DIV");if(A&&A.timer&&!A.isVisible){clearTimeout(A.timer);A.timer=null}}}var y=w.parentNode;for(;y;y=y.parentNode){if(y.nodeType==1&&y.nodeName.toUpperCase()=="DIV"){if(y.timer){clearTimeout(y.timer);y.timer=null;a(y.parentNode).addClass("hover")}}}a(w).addClass("hover");if(z&&z.isVisible){if(z.timer){clearTimeout(z.timer);z.timer=null}else{return}}a(w.parentNode.getElementsByTagName("DIV")).each(function(){if(this!=z&&this.isVisible){d(this,x);a(this.parentNode).removeClass("hover")}});if(z){l(z,x)}};var q=function(w){if(!v(w)){return false}if(w.target!=this){if(!i(this,w.target)){return}}var x=g(this,"DIV");if(!x){a(this).removeClass("hover")}else{if(!x.isVisible){a(this).removeClass("hover")}}};var s=function(y){var z=g(this,"DIV");var x=y.relatedTarget||y.toElement;var w;if(!c){a(this).removeClass("hover")}else{if(!z&&x){w=e(y.target,"UL","clickMenu");if(w.contains(x)){a(this).removeClass("hover")}}else{if(x){w=e(y.target,"UL","clickMenu");if(!z.isVisible&&(w.contains(x))){a(this).removeClass("hover")}}}}};var k=function(){var w=g(this,"DIV");if(w&&w.isVisible){m();a(this).addClass("hover")}else{n(this,o.mainDelay);c=true;a(document).bind("mousedown",t)}return false};var t=function(y){var x=false;var w=e(y.target,"UL","clickMenu");if(w){a(w.getElementsByTagName("DIV")).each(function(){if(this.isVisible){x=true}})}if(!x){m()}};var m=function(){a("ul.clickMenu div.outerbox").each(function(){if(this.timer){clearTimeout(this.timer);this.timer=null}if(this.isVisible){a(this).hide();this.isVisible=false}});a("ul.clickMenu li").removeClass("hover");a("ul.clickMenu>li li").unbind("mouseenter",h).unbind("mouseleave",q).unbind("click",o.onClick);a(document).unbind("mousedown",t);c=false};var g=function(x,w){if(!x){return null}var y=x.firstChild;for(;y;y=y.nextSibling){if(y.nodeType==1&&y.nodeName.toUpperCase()==w){return y}}return null};var j=function(y,w){if(!y){return[]}var x=[];var z=y.firstChild;for(;z;z=z.nextSibling){if(z.nodeType==1&&z.nodeName.toUpperCase()==w){x[x.length]=z}}return x};var e=function(y,x,A){var w=y.parentNode;var z=new RegExp("(^|\\s)"+A+"(\\s|$)");for(;w;w=w.parentNode){if(w.nodeType==1&&w.nodeName.toUpperCase()==x&&z.test(w.className)){return w}}return null};var u=function(w,y){var x=new RegExp("(^|\\s)"+y+"(\\s|$)");if(x.test(w.className)){return true}return false};var i=function(x,w){var y=x.firstChild;for(;y;y=y.nextSibling){if(y==w){return true}}return false};return this.each(function(){if(window.Node&&Node.prototype&&!Node.prototype.contains){Node.prototype.contains=function(y){return !!(this.compareDocumentPosition(y)&16)}}if(!u(this,"clickMenu")){a(this).addClass("clickMenu")}a("ul",this).shadowBox();if(a.browser.msie&&(!a.browser.version||parseInt(a.browser.version)<=6)){if(a.fn.bgiframe){a("div.outerbox",this).bgiframe()}else{a("div.outerbox",this).append('<iframe style="display:block;position:absolute;top:0;left:0;z-index:-1;filter:mask();width:expression(this.parentNode.offsetWidth);height:expression(this.parentNode.offsetHeight)"/>')}}a(this).bind("closemenu",function(){m()});var w=j(this,"LI");for(var x=0;x<w.length;x++){if(g(g(g(w[x],"DIV"),"UL"),"LI")){a(w[x]).click(k)}}a(w).hover(r,s).addClass("main").find(">div").addClass("inner");if(o.arrowSrc){a("div.inner div.outerbox",this).before('<img src="'+o.arrowSrc+'" class="liArrow" />')}a(this).wrap('<div class="cmDiv"></div>').after('<div style="clear: both; visibility: hidden;"></div>')})};a.fn.clickMenu.setDefaults=function(c){a.extend(b,c)}})(jQuery);(function(a){a.fn.shadowBox=function(){return this.each(function(){var b=a('<div class="outerbox"></div>').get(0);if(a(this).css("position")=="absolute"){a(b).css({position:"relative",width:this.offsetWidth,height:this.offsetHeight})}else{a(b).css("position","absolute")}a(this).addClass("innerBox").wrap(b).before('<div class="shadowbox1"></div><div class="shadowbox2"></div><div class="shadowbox3"></div>')})}})(jQuery);

(function(f){f.cluetip={version:"1.1pre"};var j,i,h,e,g,b,k,d;var c="appendTo",a="body";f.fn.cluetip=function(o,l){if(typeof o=="object"){l=o;o=null}if(o=="destroy"){return this.removeData("cluetip").unbind(".cluetip")}l=f.extend(true,{},f.fn.cluetip.defaults,l||{});if(!f("#cluetip").length){f(['<div id="cluetip">','<div id="cluetip-outer">','<h3 id="cluetip-title"></h3>','<div id="cluetip-inner"></div>',"</div>",'<div id="cluetip-extra"></div>','<div id="cluetip-arrows" class="cluetip-arrows"></div>',"</div>"].join(""))[c](a).hide();var n=+l.cluezIndex;j=f("#cluetip").css({position:"absolute"});h=f("#cluetip-outer").css({position:"relative",zIndex:n});i=f("#cluetip-inner");e=f("#cluetip-title");g=f("#cluetip-arrows");b=f('<div id="cluetip-waitimage"></div>').css({position:"absolute"}).insertBefore(j).hide()}var p=(parseInt(j.css("paddingLeft"),10)||0)+(parseInt(j.css("paddingRight"),10)||0);this.each(function(L){var w=this,z=f(this);var J=f.extend(true,{},l,f.metadata?z.metadata():f.meta?z.data():{});var s=false;n=+J.cluezIndex;z.data("cluetip",{title:w.title,zIndex:n});var T=false,S=0;var H=z.attr(J.attribute),v=J.cluetipClass;if(!H&&!J.splitTitle&&!o){return true}if(J.local&&J.localPrefix){H=J.localPrefix+H}if(J.local&&J.hideLocal){f(H+":first").hide()}var I=parseInt(J.topOffset,10),E=parseInt(J.leftOffset,10);var D,U,B=isNaN(parseInt(J.height,10))?"auto":(/\D/g).test(J.height)?J.height:J.height+"px";var q,x,M,Z,O,V;var C=parseInt(J.width,10)||275,W=C+p+J.dropShadowSteps,F=this.offsetWidth,y,N,aa,P,r;var R;var K=(J.attribute!="title")?z.attr(J.titleAttribute):"";if(J.splitTitle){if(K==undefined){K=""}R=K.split(J.splitTitle);K=R.shift()}if(J.escapeTitle){K=K.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}var u;function Y(){return false}var A=function(ab){if(!J.onActivate(z)){return false}T=true;j.removeClass().css({width:C});if(H==z.attr("href")){z.css("cursor",J.cursor)}if(J.hoverClass){z.addClass(J.hoverClass)}x=M=z.offset().top;y=z.offset().left;P=ab.pageX;O=ab.pageY;if(w.tagName.toLowerCase()!="area"){q=f(document).scrollTop();r=f(window).width()}if(J.positionBy=="fixed"){N=F+y+E;j.css({left:N})}else{N=(F>y&&y>W)||y+F+W+E>r?y-W-E:F+y+E;if(w.tagName.toLowerCase()=="area"||J.positionBy=="mouse"||F+W>r){if(P+20+W>r){j.addClass(" cluetip-"+v);N=(P-W-E)>=0?P-W-E-parseInt(j.css("marginLeft"),10)+parseInt(i.css("marginRight"),10):P-(W/2)}else{N=P+E}}var ac=N<0?ab.pageY+I:ab.pageY;j.css({left:(N>0&&J.positionBy!="bottomTop")?N:(P+(W/2)>r)?r/2-W/2:Math.max(P-(W/2),0),zIndex:z.data("cluetip").zIndex});g.css({zIndex:z.data("cluetip").zIndex+1})}U=f(window).height();if(o){if(typeof o=="function"){o=o.call(w)}i.html(o);Q(ac)}else{if(R){var ae=R.length;i.html(ae?R[0]:"");if(ae>1){for(var ad=1;ad<ae;ad++){i.append('<div class="split-body">'+R[ad]+"</div>")}}Q(ac)}else{if(!J.local&&H.indexOf("#")!==0){if(/\.(jpe?g|tiff?|gif|png)$/i.test(H)){i.html('<img src="'+H+'" alt="'+K+'" />');Q(ac)}else{if(s&&J.ajaxCache){i.html(s);Q(ac)}else{var ai=J.ajaxSettings.beforeSend,af=J.ajaxSettings.error,ag=J.ajaxSettings.success,al=J.ajaxSettings.complete;var ak={cache:false,url:H,beforeSend:function(am){if(ai){ai.call(w,am,j,i)}h.children().empty();if(J.waitImage){b.css({top:O+20,left:P+20,zIndex:z.data("cluetip").zIndex-1}).show()}},error:function(am,an){if(T){if(af){af.call(w,am,an,j,i)}else{i.html("<i>sorry, the contents could not be loaded</i>")}}},success:function(am,an){s=J.ajaxProcess.call(w,am);if(T){if(ag){ag.call(w,am,an,j,i)}i.html(s)}},complete:function(ao,aq){if(al){al.call(w,ao,aq,j,i)}var ap=i[0].getElementsByTagName("img");d=ap.length;for(var an=0,am=ap.length;an<am;an++){if(ap[an].complete){d--}}if(d&&!f.browser.opera){f(ap).bind("load error",function(){d--;if(d<1){b.hide();if(T){Q(ac)}}})}else{b.hide();if(T){Q(ac)}}}};var ah=f.extend(true,{},J.ajaxSettings,ak);f.ajax(ah)}}}else{if(J.local){var aj=f(H+(/#\S+$/.test(H)?"":":eq("+L+")")).clone(true).show();if(J.localIdSuffix){aj.attr("id",aj[0].id+J.localIdSuffix)}i.html(aj);Q(ac)}}}}};var Q=function(ad){j.addClass("cluetip-"+v);if(J.truncate){var ae=i.text().slice(0,J.truncate)+"...";i.html(ae)}function ab(){}K?e.show().html(K):(J.showTitle)?e.show().html("&nbsp;"):e.hide();if(J.sticky){var ac=f('<div id="cluetip-close"><a href="#">'+J.closeText+"</a></div>");(J.closePosition=="bottom")?ac.appendTo(i):(J.closePosition=="title")?ac.prependTo(e):ac.prependTo(i);ac.bind("click.cluetip",function(){G();return false});if(J.mouseOutClose){j.bind("mouseleave.cluetip",function(){G()})}else{j.unbind("mouseleave.cluetip")}}var af="";h.css({zIndex:z.data("cluetip").zIndex,overflow:B=="auto"?"visible":"auto",height:B});D=B=="auto"?Math.max(j.outerHeight(),j.height()):parseInt(B,10);Z=M;V=q+U;if(J.positionBy=="fixed"){Z=M-J.dropShadowSteps+I}else{if((N<P&&Math.max(N,0)+W>P)||J.positionBy=="bottomTop"){if(M+D+I>V&&O-q>D+I){Z=O-D-I;af="top"}else{Z=O+I;af="bottom"}}else{if(M+D+I>V){Z=(D>=U)?q:V-D-I}else{if(z.css("display")=="block"||w.tagName.toLowerCase()=="area"||J.positionBy=="mouse"){Z=ad-I}else{Z=M-J.dropShadowSteps}}}}if(af==""){N<y?af="left":af="right"}j.css({top:Z+"px"}).removeClass().addClass("clue-"+af+"-"+v).addClass(" cluetip-"+v);if(J.arrows){var ag=(M-Z-J.dropShadowSteps);g.css({top:(/(left|right)/.test(af)&&N>=0&&ag>0)?ag+"px":/(left|right)/.test(af)?0:""}).show()}else{g.hide()}k=m(J);if(k&&k.length){k.hide().css({height:D,width:C,zIndex:z.data("cluetip").zIndex-1}).show()}j.hide()[J.fx.open](J.fx.openSpeed||0);if(f.fn.bgiframe){j.bgiframe()}if(J.delayedClose>0){S=setTimeout(G,J.delayedClose)}J.onShow.call(w,j,i)};var X=function(ab){T=false;b.hide();if(!J.sticky||(/click|toggle/).test(J.activation)){G();clearTimeout(S)}if(J.hoverClass){z.removeClass(J.hoverClass)}};var G=function(){h.parent().hide().removeClass();J.onHide.call(w,j,i);z.removeClass("cluetip-clicked");if(K){z.attr(J.titleAttribute,K)}z.css("cursor","");if(J.arrows){g.css({top:""})}};f(document).bind("hideCluetip",function(ab){G()});if((/click|toggle/).test(J.activation)){z.bind("click.cluetip",function(ab){if(j.is(":hidden")||!z.is(".cluetip-clicked")){A(ab);f(".cluetip-clicked").removeClass("cluetip-clicked");z.addClass("cluetip-clicked")}else{X(ab)}this.blur();return false})}else{if(J.activation=="focus"){z.bind("focus.cluetip",function(ab){A(ab)});z.bind("blur.cluetip",function(ab){X(ab)})}else{z[J.clickThrough?"unbind":"bind"]("click",Y);var t=function(ab){if(J.tracking==true){var ad=N-ab.pageX;var ac=Z?Z-ab.pageY:M-ab.pageY;z.bind("mousemove.cluetip",function(ae){j.css({left:ae.pageX+ad,top:ae.pageY+ac})})}};if(f.fn.hoverIntent&&J.hoverIntent){z.hoverIntent({sensitivity:J.hoverIntent.sensitivity,interval:J.hoverIntent.interval,over:function(ab){A(ab);t(ab)},timeout:J.hoverIntent.timeout,out:function(ab){X(ab);z.unbind("mousemove.cluetip")}})}else{z.bind("mouseenter.cluetip",function(ab){A(ab);t(ab)}).bind("mouseleave.cluetip",function(ab){X(ab);z.unbind("mousemove.cluetip")})}z.bind("mouseover.cluetip",function(ab){z.attr("title","")}).bind("mouseleave.cluetip",function(ab){z.attr("title",z.data("cluetip").title)})}}});function m(t,w){var s=(t.dropShadow&&t.dropShadowSteps)?+t.dropShadowSteps:0;if(f.support.boxShadow){var r=s===0?"0 0 ":"1px 1px ";f("#cluetip").css(f.support.boxShadow,r+s+"px rgba(0,0,0,0.5)");return false}var q=f("#cluetip .cluetip-drop-shadow");if(s==q.length){return q}q.remove();var v=[];for(var u=0;u<s;){v[u++]='<div style="top:'+u+"px;left:"+u+'px;"></div>'}w=f(v.join("")).css({position:"absolute",backgroundColor:"#000",zIndex:n-1,opacity:0.1}).addClass("cluetip-drop-shadow").prependTo("#cluetip");return w}return this};(function(){f.support=f.support||{};var l=document.createElement("div"),n=l.style,u=["boxShadow"],s=["moz","Moz","webkit","o"];for(var t=0,p=u.length;t<p;t++){var m=u[t],o=m.charAt(0).toUpperCase()+m.slice(1);if(typeof n[m]!=="undefined"){f.support[m]=m}else{for(var r=0,q=s.length;r<q;r++){if(typeof n[s[r]+o]!=="undefined"){f.support[m]=s[r]+o;break}}}}l=null;delete l})();f.fn.cluetip.defaults={width:275,height:"auto",cluezIndex:97,positionBy:"auto",topOffset:15,leftOffset:15,local:false,localPrefix:null,localIdSuffix:null,hideLocal:true,attribute:"rel",titleAttribute:"title",splitTitle:"",escapeTitle:false,showTitle:true,cluetipClass:"default",hoverClass:"",waitImage:true,cursor:"help",arrows:false,dropShadow:true,dropShadowSteps:6,sticky:false,mouseOutClose:false,activation:"hover",clickThrough:false,tracking:false,delayedClose:0,closePosition:"top",closeText:"Close",truncate:0,fx:{open:"show",openSpeed:""},hoverIntent:{sensitivity:3,interval:50,timeout:0},onActivate:function(l){return true},onShow:function(m,l){},onHide:function(m,l){},ajaxCache:true,ajaxProcess:function(l){l=l.replace(/<(script|style|title)[^<]+<\/(script|style|title)>/gm,"").replace(/<(link|meta)[^>]+>/g,"");return l},ajaxSettings:{dataType:"html"},debug:false};var c="appendTo",a="body";f.cluetip.setup=function(l){if(l&&l.insertionType&&(l.insertionType).match(/appendTo|prependTo|insertBefore|insertAfter/)){c=l.insertionType}if(l&&l.insertionElement){a=l.insertionElement}}})(jQuery);

(function(f){if(!f||!(f.toJSON||Object.toJSON||window.JSON)){throw new Error("jQuery, MooTools or Prototype needs to be loaded before jStorage!")}var g={},d={jStorage:"{}"},h=null,j=0,l=f.toJSON||Object.toJSON||(window.JSON&&(JSON.encode||JSON.stringify)),e=f.evalJSON||(window.JSON&&(JSON.decode||JSON.parse))||function(m){return String(m).evalJSON()},i=false;_XMLService={isXML:function(n){var m=(n?n.ownerDocument||n:0).documentElement;return m?m.nodeName!=="HTML":false},encode:function(n){if(!this.isXML(n)){return false}try{return new XMLSerializer().serializeToString(n)}catch(m){try{return n.xml}catch(o){}}return false},decode:function(n){var m=("DOMParser" in window&&(new DOMParser()).parseFromString)||(window.ActiveXObject&&function(p){var q=new ActiveXObject("Microsoft.XMLDOM");q.async="false";q.loadXML(p);return q}),o;if(!m){return false}o=m.call("DOMParser" in window&&(new DOMParser())||window,n,"text/xml");return this.isXML(o)?o:false}};function k(){if("localStorage" in window){try{if(window.localStorage){d=window.localStorage;i="localStorage"}}catch(p){}}else{if("globalStorage" in window){try{if(window.globalStorage){d=window.globalStorage[window.location.hostname];i="globalStorage"}}catch(o){}}else{h=document.createElement("link");if(h.addBehavior){h.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(h);h.load("jStorage");var n="{}";try{n=h.getAttribute("jStorage")}catch(m){}d.jStorage=n;i="userDataBehavior"}else{h=null;return}}}b()}function b(){if(d.jStorage){try{g=e(String(d.jStorage))}catch(m){d.jStorage="{}"}}else{d.jStorage="{}"}j=d.jStorage?String(d.jStorage).length:0}function c(){try{d.jStorage=l(g);if(h){h.setAttribute("jStorage",d.jStorage);h.save("jStorage")}j=d.jStorage?String(d.jStorage).length:0}catch(m){}}function a(m){if(!m||(typeof m!="string"&&typeof m!="number")){throw new TypeError("Key name must be string or numeric")}return true}f.jStorage={version:"0.1.5.0",set:function(m,n){a(m);if(_XMLService.isXML(n)){n={_is_xml:true,xml:_XMLService.encode(n)}}g[m]=n;c();return n},get:function(m,n){a(m);if(m in g){if(typeof g[m]=="object"&&g[m]._is_xml&&g[m]._is_xml){return _XMLService.decode(g[m].xml)}else{return g[m]}}return typeof(n)=="undefined"?null:n},deleteKey:function(m){a(m);if(m in g){delete g[m];c();return true}return false},flush:function(){g={};c();try{window.localStorage.clear()}catch(m){}return true},storageObj:function(){function m(){}m.prototype=g;return new m()},index:function(){var m=[],n;for(n in g){if(g.hasOwnProperty(n)){m.push(n)}}return m},storageSize:function(){return j},currentBackend:function(){return i},storageAvailable:function(){return !!i},reInit:function(){var m,o;if(h&&h.addBehavior){m=document.createElement("link");h.parentNode.replaceChild(m,h);h=m;h.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(h);h.load("jStorage");o="{}";try{o=h.getAttribute("jStorage")}catch(n){}d.jStorage=o;i="userDataBehavior"}b()}};k()})(window.jQuery||window.$);
